# true color support 
set -g default-terminal "xterm-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"

# prefix key 
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# vim-style pane movement
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

# pane borders
set -g pane-border-style "fg=#282828"
set -g pane-active-border-style "fg=#96a6c8"
set -g pane-border-lines single
set -g pane-border-status off

# backgrounds
set -g window-style 'bg=default'
set -g window-active-style 'bg=default'

# clock mode
set -g clock-mode-colour "#73c936"

# status bar and window indicators 
set -g status on
set -g status-position bottom
set -g status-bg "#282828"
set -g status-fg "#e4e4ef"
set -g status-left-length 50
set -g status-right-length 100

# session on the left of status bar
set -g status-left "#[fg=#73c936]#S #[fg=#e4e4ef]|"
set -g status-right ""

# window indicators
setw -g window-status-format "#[fg=#95a99f] #I:#W "
setw -g window-status-current-format "#[fg=#ffdd33,bold] #I:#W "

# set window title in terminal titlebar
set -g set-titles on
set -g set-titles-string "#W"

# mouse support and UX tweaks 
set -g mouse on
setw -g mode-keys vi
set -g message-style "bg=#282828,fg=#e4e4ef"
set -g message-command-style "bg=#282828,fg=#e4e4ef"
set -g bell-action none
set -g visual-bell off
set -g visual-activity off
set -g display-time 800
set -g status-interval 1

# copy mode and clipboard ---
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi y send -X copy-selection-and-cancel
bind-key -T copy-mode-vi Y send -X copy-pipe-and-cancel "xclip -sel clip"

# reload config easily
bind r source-file ~/.tmux.conf \; display "Config reloaded"

# automatic window renaming
setw -g automatic-rename on
set -g renumber-windows on

# saving sessions 
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @resurrect-processes '"~nvim->nvim *"'

# auto-saving of sessions and autostart on boot
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'
set -g @continuum-boot 'on'

# plugin manager
set -g @plugin 'tmux-plugins/tpm'
run '~/.tmux/plugins/tpm/tpm'
